<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">

    <body>

        <ui:composition template="./../template/TemplateOne.xhtml">

            <ui:define name="content">
                <h:form>
                    <div class="row">
                        <div class="col s12 m6 offset-m3" >
                    <p:autoComplete dropdown="true" maxResults="10" value="#{trazabilidadController.traz.cod_his}" 
                                    completeMethod="#{trazabilidadController.completeTextHis}" style="width: 100%"
                                    placeholder="Nombre del Alumno" emptyMessage="No se encontro ningÃºn registro"/>
                        </div>
                    </div>
                    <p:inputText value="#{trazabilidadController.alu}"/>
                    <p:dataTable value="#{trazabilidadController.lstHistorial}" var="his" id="tblHis">
                        
                        <p:column groupRow="true" headerText="Nombres">
                            <p:outputLabel value="#{his.NOMREG}" />    
                        </p:column>
                        <p:column headerText="Carrera" >
                            <p:outputLabel value="#{his.CARREG}"/>    
                        </p:column>
                        <p:column headerText="Fecha">
                            <p:outputLabel value="#{his.FECHREG}" />    
                        </p:column> 
                        <p:column headerText="Curso">
                            <p:outputLabel value="#{his.CURREG}"/>    
                        </p:column>
                        <p:column headerText="Nombre Control">
                            <p:outputLabel value="#{his.CONTREG}"/>    
                        </p:column>
                        <p:column headerText="Asistencia">
                            <p:outputLabel value="#{his.ASISREG}"/>    
                        </p:column>
                        
                        <p:column headerText="Notas" rendered="#{his.NOTREG != '0'}">
                            <p:outputLabel value="#{his.NOTREG}" rendered="#{his.NOTREG != '0'}"/>    
                        </p:column>
                    </p:dataTable>
                    <p:commandButton value="Consultar" update="tblHis" actionListener="#{trazabilidadController.consultarHistorial()}"/>
                </h:form>
            </ui:define>

        </ui:composition>

    </body>
</html>
